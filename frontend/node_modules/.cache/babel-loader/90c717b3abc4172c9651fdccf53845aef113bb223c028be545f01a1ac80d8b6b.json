{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Franc\\\\Documents\\\\SistemaMunicipalTancitaro\\\\frontend\\\\src\\\\pages\\\\Reports.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Typography, Paper, Box, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Chip, IconButton, Dialog, DialogTitle, DialogContent, DialogActions, FormControl, InputLabel, Select, MenuItem, TextField, Button, Grid } from '@mui/material';\nimport { Edit, Visibility, Add } from '@mui/icons-material';\nimport { useAuth } from '../context/AuthContext';\nimport { reportsAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Reports = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [reports, setReports] = useState([]);\n  const [openUpdate, setOpenUpdate] = useState(false);\n  const [openView, setOpenView] = useState(false);\n  const [openCreate, setOpenCreate] = useState(false);\n  const [selectedReport, setSelectedReport] = useState(null);\n  const [newStatus, setNewStatus] = useState('');\n  const [notes, setNotes] = useState('');\n\n  // New Report State\n  const [newReport, setNewReport] = useState({\n    titulo: '',\n    categoria: '',\n    descripcion: '',\n    latitud: '',\n    longitud: '',\n    files: []\n  });\n  const canUpdate = ['admin', 'trabajador'].includes(user === null || user === void 0 ? void 0 : user.rol);\n  const canCreate = ['admin', 'ciudadano'].includes(user === null || user === void 0 ? void 0 : user.rol);\n  useEffect(() => {\n    fetchReports();\n  }, []);\n  const fetchReports = async () => {\n    try {\n      const response = await reportsAPI.getAll();\n      setReports(response.data.reportes || response.data);\n    } catch (error) {\n      console.error('Error fetching reports:', error);\n    }\n  };\n  const handleCreateClick = () => {\n    setNewReport({\n      titulo: '',\n      categoria: '',\n      descripcion: '',\n      latitud: '',\n      longitud: '',\n      files: []\n    });\n    setOpenCreate(true);\n  };\n  const handleFileChange = e => {\n    setNewReport({\n      ...newReport,\n      files: e.target.files\n    });\n  };\n  const handleSaveCreate = async () => {\n    try {\n      const formData = new FormData();\n      formData.append('titulo', newReport.titulo);\n      formData.append('categoria', newReport.categoria);\n      formData.append('descripcion', newReport.descripcion);\n      if (newReport.latitud) formData.append('latitud', newReport.latitud);\n      if (newReport.longitud) formData.append('longitud', newReport.longitud);\n      if (newReport.files) {\n        for (let i = 0; i < newReport.files.length; i++) {\n          formData.append('fotos', newReport.files[i]);\n        }\n      }\n      await reportsAPI.create(formData);\n      setOpenCreate(false);\n      fetchReports();\n    } catch (error) {\n      console.error('Error creating report:', error);\n      alert('Error creando reporte');\n    }\n  };\n  const handleUpdateClick = report => {\n    setSelectedReport(report);\n    setNewStatus(report.estado);\n    setOpenUpdate(true);\n  };\n  const handleSaveUpdate = async () => {\n    try {\n      await reportsAPI.update(selectedReport.id, {\n        estado: newStatus,\n        notas: notes\n      });\n      setOpenUpdate(false);\n      fetchReports(); // Refresh list\n    } catch (error) {\n      console.error('Error updating report:', error);\n    }\n  };\n  const handleViewClick = report => {\n    setSelectedReport(report);\n    setOpenView(true);\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'recibido':\n        return 'warning';\n      case 'en_proceso':\n        return 'info';\n      case 'concluido':\n        return 'success';\n      default:\n        return 'default';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        fontWeight: \"bold\",\n        sx: {\n          color: 'var(--primary-blue)'\n        },\n        children: \"\\uD83D\\uDCCB Reportes Ciudadanos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), canCreate && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        startIcon: /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 24\n        }, this),\n        onClick: handleCreateClick,\n        sx: {\n          backgroundColor: 'var(--primary-blue)'\n        },\n        children: \"Nuevo Reporte\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      elevation: 3,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          sx: {\n            backgroundColor: 'var(--light-blue)'\n          },\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"T\\xEDtulo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Categor\\xEDa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Fecha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Estatus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Acciones\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: reports.map(report => /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: report.titulo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: report.categoria\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: new Date(report.creado_en).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Chip, {\n                label: (report.estado || 'recibido').replace('_', ' '),\n                color: getStatusColor(report.estado),\n                size: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"primary\",\n                title: \"Ver Detalles\",\n                onClick: () => handleViewClick(report),\n                children: /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this), canUpdate && /*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"secondary\",\n                title: \"Actualizar Estatus\",\n                onClick: () => handleUpdateClick(report),\n                children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this)]\n          }, report.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openView,\n      onClose: () => setOpenView(false),\n      maxWidth: \"md\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Detalles del Reporte\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        dividers: true,\n        children: selectedReport && /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: selectedReport.titulo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            gutterBottom: true,\n            children: [\"Categor\\xEDa: \", selectedReport.categoria]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            gutterBottom: true,\n            children: [\"Estado: \", /*#__PURE__*/_jsxDEV(Chip, {\n              label: (selectedReport.estado || 'recibido').replace('_', ' '),\n              color: getStatusColor(selectedReport.estado),\n              size: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            paragraph: true,\n            children: selectedReport.descripcion || 'Sin descripci칩n'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), selectedReport.fotos && selectedReport.fotos.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 2,\n              mb: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              fontWeight: \"bold\",\n              gutterBottom: true,\n              children: \"\\uD83D\\uDCF7 Evidencia Fotogr\\xE1fica\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: selectedReport.fotos.map((foto, index) => /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  component: \"img\",\n                  src: foto,\n                  alt: `Evidencia ${index + 1}`,\n                  sx: {\n                    width: '100%',\n                    maxHeight: 300,\n                    objectFit: 'cover',\n                    borderRadius: 2,\n                    border: '1px solid #ddd'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 25\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 17\n          }, this), selectedReport.latitud && selectedReport.longitud && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 2,\n              mb: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              fontWeight: \"bold\",\n              gutterBottom: true,\n              children: \"\\uD83D\\uDCCD Ubicaci\\xF3n del Reporte\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                width: '100%',\n                height: 300,\n                borderRadius: 2,\n                overflow: 'hidden',\n                border: '1px solid #ddd'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n                title: \"Ubicaci\\xF3n del reporte\",\n                width: \"100%\",\n                height: \"100%\",\n                frameBorder: \"0\",\n                style: {\n                  border: 0\n                },\n                src: `https://www.openstreetmap.org/export/embed.html?bbox=${selectedReport.longitud - 0.005},${selectedReport.latitud - 0.005},${selectedReport.longitud + 0.005},${selectedReport.latitud + 0.005}&layer=mapnik&marker=${selectedReport.latitud},${selectedReport.longitud}`,\n                allowFullScreen: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            fontWeight: \"bold\",\n            sx: {\n              mt: 2\n            },\n            children: \"Historial de Estatus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: selectedReport.historial_estados && Array.isArray(selectedReport.historial_estados) ? selectedReport.historial_estados.map((h, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: h.estado\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 23\n              }, this), \": \", new Date(h.fecha).toLocaleString(), h.notas && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\" - \", h.notas]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 35\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 21\n            }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"creado:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 23\n              }, this), \" \", new Date(selectedReport.creado_en).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenView(false),\n          children: \"Cerrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openUpdate,\n      onClose: () => setOpenUpdate(false),\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Actualizar Estatus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        sx: {\n          minWidth: 400,\n          mt: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          margin: \"normal\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Estatus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: newStatus,\n            label: \"Estatus\",\n            onChange: e => setNewStatus(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"recibido\",\n              children: \"Recibido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"en_proceso\",\n              children: \"En Proceso\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"concluido\",\n              children: \"Concluido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          margin: \"normal\",\n          label: \"Notas de seguimiento\",\n          multiline: true,\n          rows: 3,\n          value: notes,\n          onChange: e => setNotes(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenUpdate(false),\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSaveUpdate,\n          variant: \"contained\",\n          children: \"Guardar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openCreate,\n      onClose: () => setOpenCreate(false),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Nuevo Reporte\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          margin: \"normal\",\n          label: \"T\\xEDtulo\",\n          value: newReport.titulo,\n          onChange: e => setNewReport({\n            ...newReport,\n            titulo: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          margin: \"normal\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Categor\\xEDa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: newReport.categoria,\n            label: \"Categor\\xEDa\",\n            onChange: e => setNewReport({\n              ...newReport,\n              categoria: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"Obras Publicas\",\n              children: \"Obras P\\xFAblicas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"Servicios Municipales\",\n              children: \"Servicios Municipales\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"OOAPAS\",\n              children: \"OOAPAS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"Seguridad Publica\",\n              children: \"Seguridad P\\xFAblica\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          margin: \"normal\",\n          label: \"Descripci\\xF3n\",\n          multiline: true,\n          rows: 4,\n          value: newReport.descripcion,\n          onChange: e => setNewReport({\n            ...newReport,\n            descripcion: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            gutterBottom: true,\n            children: \"Evidencias (Fotos)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            accept: \"image/*\",\n            type: \"file\",\n            multiple: true,\n            onChange: handleFileChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenCreate(false),\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSaveCreate,\n          variant: \"contained\",\n          color: \"primary\",\n          children: \"Crear Reporte\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n};\n_s(Reports, \"DNUjVOosMIPkWRLrH07P8ySmjt0=\", false, function () {\n  return [useAuth];\n});\n_c = Reports;\nexport default Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useState","useEffect","Typography","Paper","Box","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Chip","IconButton","Dialog","DialogTitle","DialogContent","DialogActions","FormControl","InputLabel","Select","MenuItem","TextField","Button","Grid","Edit","Visibility","Add","useAuth","reportsAPI","jsxDEV","_jsxDEV","Reports","_s","user","reports","setReports","openUpdate","setOpenUpdate","openView","setOpenView","openCreate","setOpenCreate","selectedReport","setSelectedReport","newStatus","setNewStatus","notes","setNotes","newReport","setNewReport","titulo","categoria","descripcion","latitud","longitud","files","canUpdate","includes","rol","canCreate","fetchReports","response","getAll","data","reportes","error","console","handleCreateClick","handleFileChange","e","target","handleSaveCreate","formData","FormData","append","i","length","create","alert","handleUpdateClick","report","estado","handleSaveUpdate","update","id","notas","handleViewClick","getStatusColor","status","children","sx","display","justifyContent","alignItems","mb","variant","fontWeight","color","fileName","_jsxFileName","lineNumber","columnNumber","startIcon","onClick","backgroundColor","component","elevation","align","map","Date","creado_en","toLocaleDateString","label","replace","size","title","open","onClose","maxWidth","fullWidth","dividers","gutterBottom","paragraph","fotos","mt","container","spacing","foto","index","item","xs","sm","src","alt","width","maxHeight","objectFit","borderRadius","border","height","overflow","frameBorder","style","allowFullScreen","historial_estados","Array","isArray","h","fecha","toLocaleString","minWidth","margin","value","onChange","multiline","rows","accept","type","multiple","_c","$RefreshReg$"],"sources":["C:/Users/Franc/Documents/SistemaMunicipalTancitaro/frontend/src/pages/Reports.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Typography, Paper, Box, Table, TableBody, TableCell,\r\n  TableContainer, TableHead, TableRow, Chip, IconButton,\r\n  Dialog, DialogTitle, DialogContent, DialogActions,\r\n  FormControl, InputLabel, Select, MenuItem, TextField, Button, Grid\r\n} from '@mui/material';\r\nimport { Edit, Visibility, Add } from '@mui/icons-material';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { reportsAPI } from '../services/api';\r\n\r\nconst Reports = () => {\r\n  const { user } = useAuth();\r\n  const [reports, setReports] = useState([]);\r\n  const [openUpdate, setOpenUpdate] = useState(false);\r\n  const [openView, setOpenView] = useState(false);\r\n  const [openCreate, setOpenCreate] = useState(false);\r\n  const [selectedReport, setSelectedReport] = useState(null);\r\n  const [newStatus, setNewStatus] = useState('');\r\n  const [notes, setNotes] = useState('');\r\n\r\n  // New Report State\r\n  const [newReport, setNewReport] = useState({\r\n    titulo: '',\r\n    categoria: '',\r\n    descripcion: '',\r\n    latitud: '',\r\n    longitud: '',\r\n    files: []\r\n  });\r\n\r\n  const canUpdate = ['admin', 'trabajador'].includes(user?.rol);\r\n  const canCreate = ['admin', 'ciudadano'].includes(user?.rol);\r\n\r\n  useEffect(() => {\r\n    fetchReports();\r\n  }, []);\r\n\r\n  const fetchReports = async () => {\r\n    try {\r\n      const response = await reportsAPI.getAll();\r\n      setReports(response.data.reportes || response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching reports:', error);\r\n    }\r\n  };\r\n\r\n  const handleCreateClick = () => {\r\n    setNewReport({\r\n      titulo: '',\r\n      categoria: '',\r\n      descripcion: '',\r\n      latitud: '',\r\n      longitud: '',\r\n      files: []\r\n    });\r\n    setOpenCreate(true);\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    setNewReport({ ...newReport, files: e.target.files });\r\n  };\r\n\r\n  const handleSaveCreate = async () => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('titulo', newReport.titulo);\r\n      formData.append('categoria', newReport.categoria);\r\n      formData.append('descripcion', newReport.descripcion);\r\n      if (newReport.latitud) formData.append('latitud', newReport.latitud);\r\n      if (newReport.longitud) formData.append('longitud', newReport.longitud);\r\n\r\n      if (newReport.files) {\r\n        for (let i = 0; i < newReport.files.length; i++) {\r\n          formData.append('fotos', newReport.files[i]);\r\n        }\r\n      }\r\n\r\n      await reportsAPI.create(formData);\r\n      setOpenCreate(false);\r\n      fetchReports();\r\n    } catch (error) {\r\n      console.error('Error creating report:', error);\r\n      alert('Error creando reporte');\r\n    }\r\n  };\r\n\r\n  const handleUpdateClick = (report) => {\r\n    setSelectedReport(report);\r\n    setNewStatus(report.estado);\r\n    setOpenUpdate(true);\r\n  };\r\n\r\n  const handleSaveUpdate = async () => {\r\n    try {\r\n      await reportsAPI.update(selectedReport.id, {\r\n        estado: newStatus,\r\n        notas: notes\r\n      });\r\n      setOpenUpdate(false);\r\n      fetchReports(); // Refresh list\r\n    } catch (error) {\r\n      console.error('Error updating report:', error);\r\n    }\r\n  };\r\n\r\n  const handleViewClick = (report) => {\r\n    setSelectedReport(report);\r\n    setOpenView(true);\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'recibido': return 'warning';\r\n      case 'en_proceso': return 'info';\r\n      case 'concluido': return 'success';\r\n      default: return 'default';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n        <Typography variant=\"h4\" fontWeight=\"bold\" sx={{ color: 'var(--primary-blue)' }}>\r\n          游늶 Reportes Ciudadanos\r\n        </Typography>\r\n        {canCreate && (\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<Add />}\r\n            onClick={handleCreateClick}\r\n            sx={{ backgroundColor: 'var(--primary-blue)' }}\r\n          >\r\n            Nuevo Reporte\r\n          </Button>\r\n        )}\r\n      </Box>\r\n\r\n      <TableContainer component={Paper} elevation={3}>\r\n        <Table>\r\n          <TableHead sx={{ backgroundColor: 'var(--light-blue)' }}>\r\n            <TableRow>\r\n              <TableCell><strong>T칤tulo</strong></TableCell>\r\n              <TableCell><strong>Categor칤a</strong></TableCell>\r\n              <TableCell><strong>Fecha</strong></TableCell>\r\n              <TableCell><strong>Estatus</strong></TableCell>\r\n              <TableCell align=\"center\"><strong>Acciones</strong></TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {reports.map((report) => (\r\n              <TableRow key={report.id}>\r\n                <TableCell>{report.titulo}</TableCell>\r\n                <TableCell>{report.categoria}</TableCell>\r\n                <TableCell>{new Date(report.creado_en).toLocaleDateString()}</TableCell>\r\n                <TableCell>\r\n                  <Chip label={(report.estado || 'recibido').replace('_', ' ')} color={getStatusColor(report.estado)} size=\"small\" />\r\n                </TableCell>\r\n                <TableCell align=\"center\">\r\n                  <IconButton color=\"primary\" title=\"Ver Detalles\" onClick={() => handleViewClick(report)}>\r\n                    <Visibility />\r\n                  </IconButton>\r\n                  {canUpdate && (\r\n                    <IconButton color=\"secondary\" title=\"Actualizar Estatus\" onClick={() => handleUpdateClick(report)}>\r\n                      <Edit />\r\n                    </IconButton>\r\n                  )}\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n\r\n      {/* Dialog View Details */}\r\n      <Dialog open={openView} onClose={() => setOpenView(false)} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>Detalles del Reporte</DialogTitle>\r\n        <DialogContent dividers>\r\n          {selectedReport && (\r\n            <Box>\r\n              <Typography variant=\"h6\">{selectedReport.titulo}</Typography>\r\n              <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\r\n                Categor칤a: {selectedReport.categoria}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\r\n                Estado: <Chip label={(selectedReport.estado || 'recibido').replace('_', ' ')} color={getStatusColor(selectedReport.estado)} size=\"small\" />\r\n              </Typography>\r\n              <Typography variant=\"body1\" paragraph>\r\n                {selectedReport.descripcion || 'Sin descripci칩n'}\r\n              </Typography>\r\n\r\n              {/* Fotos del reporte */}\r\n              {selectedReport.fotos && selectedReport.fotos.length > 0 && (\r\n                <Box sx={{ mt: 2, mb: 2 }}>\r\n                  <Typography variant=\"subtitle1\" fontWeight=\"bold\" gutterBottom>\r\n                    游닝 Evidencia Fotogr치fica\r\n                  </Typography>\r\n                  <Grid container spacing={2}>\r\n                    {selectedReport.fotos.map((foto, index) => (\r\n                      <Grid item xs={12} sm={6} key={index}>\r\n                        <Box\r\n                          component=\"img\"\r\n                          src={foto}\r\n                          alt={`Evidencia ${index + 1}`}\r\n                          sx={{\r\n                            width: '100%',\r\n                            maxHeight: 300,\r\n                            objectFit: 'cover',\r\n                            borderRadius: 2,\r\n                            border: '1px solid #ddd'\r\n                          }}\r\n                        />\r\n                      </Grid>\r\n                    ))}\r\n                  </Grid>\r\n                </Box>\r\n              )}\r\n\r\n              {/* Mapa de ubicaci칩n */}\r\n              {selectedReport.latitud && selectedReport.longitud && (\r\n                <Box sx={{ mt: 2, mb: 2 }}>\r\n                  <Typography variant=\"subtitle1\" fontWeight=\"bold\" gutterBottom>\r\n                    游늸 Ubicaci칩n del Reporte\r\n                  </Typography>\r\n                  <Box\r\n                    sx={{\r\n                      width: '100%',\r\n                      height: 300,\r\n                      borderRadius: 2,\r\n                      overflow: 'hidden',\r\n                      border: '1px solid #ddd'\r\n                    }}\r\n                  >\r\n                    <iframe\r\n                      title=\"Ubicaci칩n del reporte\"\r\n                      width=\"100%\"\r\n                      height=\"100%\"\r\n                      frameBorder=\"0\"\r\n                      style={{ border: 0 }}\r\n                      src={`https://www.openstreetmap.org/export/embed.html?bbox=${selectedReport.longitud - 0.005},${selectedReport.latitud - 0.005},${selectedReport.longitud + 0.005},${selectedReport.latitud + 0.005}&layer=mapnik&marker=${selectedReport.latitud},${selectedReport.longitud}`}\r\n                      allowFullScreen\r\n                    />\r\n                  </Box>\r\n                </Box>\r\n              )}\r\n\r\n              <Typography variant=\"subtitle1\" fontWeight=\"bold\" sx={{ mt: 2 }}>\r\n                Historial de Estatus\r\n              </Typography>\r\n              <ul>\r\n                {selectedReport.historial_estados && Array.isArray(selectedReport.historial_estados) ? (\r\n                  selectedReport.historial_estados.map((h, i) => (\r\n                    <li key={i}>\r\n                      <strong>{h.estado}</strong>: {new Date(h.fecha).toLocaleString()}\r\n                      {h.notas && <span> - {h.notas}</span>}\r\n                    </li>\r\n                  ))\r\n                ) : (\r\n                  <li><strong>creado:</strong> {new Date(selectedReport.creado_en).toLocaleString()}</li>\r\n                )}\r\n              </ul>\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenView(false)}>Cerrar</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dialog Update Status */}\r\n      <Dialog open={openUpdate} onClose={() => setOpenUpdate(false)}>\r\n        <DialogTitle>Actualizar Estatus</DialogTitle>\r\n        <DialogContent sx={{ minWidth: 400, mt: 2 }}>\r\n          <FormControl fullWidth margin=\"normal\">\r\n            <InputLabel>Estatus</InputLabel>\r\n            <Select\r\n              value={newStatus}\r\n              label=\"Estatus\"\r\n              onChange={(e) => setNewStatus(e.target.value)}\r\n            >\r\n              <MenuItem value=\"recibido\">Recibido</MenuItem>\r\n              <MenuItem value=\"en_proceso\">En Proceso</MenuItem>\r\n              <MenuItem value=\"concluido\">Concluido</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <TextField\r\n            fullWidth\r\n            margin=\"normal\"\r\n            label=\"Notas de seguimiento\"\r\n            multiline\r\n            rows={3}\r\n            value={notes}\r\n            onChange={(e) => setNotes(e.target.value)}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenUpdate(false)}>Cancelar</Button>\r\n          <Button onClick={handleSaveUpdate} variant=\"contained\">Guardar</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dialog Create Report */}\r\n      <Dialog open={openCreate} onClose={() => setOpenCreate(false)} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>Nuevo Reporte</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            fullWidth\r\n            margin=\"normal\"\r\n            label=\"T칤tulo\"\r\n            value={newReport.titulo}\r\n            onChange={(e) => setNewReport({ ...newReport, titulo: e.target.value })}\r\n          />\r\n          <FormControl fullWidth margin=\"normal\">\r\n            <InputLabel>Categor칤a</InputLabel>\r\n            <Select\r\n              value={newReport.categoria}\r\n              label=\"Categor칤a\"\r\n              onChange={(e) => setNewReport({ ...newReport, categoria: e.target.value })}\r\n            >\r\n              <MenuItem value=\"Obras Publicas\">Obras P칰blicas</MenuItem>\r\n              <MenuItem value=\"Servicios Municipales\">Servicios Municipales</MenuItem>\r\n              <MenuItem value=\"OOAPAS\">OOAPAS</MenuItem>\r\n              <MenuItem value=\"Seguridad Publica\">Seguridad P칰blica</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <TextField\r\n            fullWidth\r\n            margin=\"normal\"\r\n            label=\"Descripci칩n\"\r\n            multiline\r\n            rows={4}\r\n            value={newReport.descripcion}\r\n            onChange={(e) => setNewReport({ ...newReport, descripcion: e.target.value })}\r\n          />\r\n          <Box sx={{ mt: 2 }}>\r\n            <Typography variant=\"subtitle2\" gutterBottom>Evidencias (Fotos)</Typography>\r\n            <input\r\n              accept=\"image/*\"\r\n              type=\"file\"\r\n              multiple\r\n              onChange={handleFileChange}\r\n            />\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenCreate(false)}>Cancelar</Button>\r\n          <Button onClick={handleSaveCreate} variant=\"contained\" color=\"primary\">\r\n            Crear Reporte\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Reports;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}