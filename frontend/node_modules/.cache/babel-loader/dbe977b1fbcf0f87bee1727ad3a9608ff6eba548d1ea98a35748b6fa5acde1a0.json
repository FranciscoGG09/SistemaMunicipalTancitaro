{"ast":null,"code":"import React from'react';import{Navigate}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import{CircularProgress,Box,Typography}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PrivateRoute=_ref=>{let{children,requiredRole}=_ref;const{user,loading,isAuthenticated}=useAuth();if(loading){return/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"100vh\",children:[/*#__PURE__*/_jsx(CircularProgress,{size:60}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mt:2},children:\"Cargando...\"})]});}if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(requiredRole){const hasPermission=Array.isArray(requiredRole)?requiredRole.includes(user.rol):user.rol===requiredRole;if(!hasPermission){return/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"50vh\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"error\",gutterBottom:true,children:\"\\u26A0\\uFE0F Acceso Denegado\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"No tienes permisos para acceder a esta p\\xE1gina.\"})]});}return children;};return children;};export default PrivateRoute;","map":{"version":3,"names":["React","Navigate","useAuth","CircularProgress","Box","Typography","jsx","_jsx","jsxs","_jsxs","PrivateRoute","_ref","children","requiredRole","user","loading","isAuthenticated","display","flexDirection","justifyContent","alignItems","minHeight","size","variant","sx","mt","to","replace","hasPermission","Array","isArray","includes","rol","color","gutterBottom"],"sources":["C:/Users/Franc/Documents/SistemaMunicipalTancitaro/frontend/src/components/auth/PrivateRoute.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { CircularProgress, Box, Typography } from '@mui/material';\r\n\r\nconst PrivateRoute = ({ children, requiredRole }) => {\r\n  const { user, loading, isAuthenticated } = useAuth();\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box\r\n        display=\"flex\"\r\n        flexDirection=\"column\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        minHeight=\"100vh\"\r\n      >\r\n        <CircularProgress size={60} />\r\n        <Typography variant=\"h6\" sx={{ mt: 2 }}>\r\n          Cargando...\r\n        </Typography>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  if (requiredRole) {\r\n    const hasPermission = Array.isArray(requiredRole)\r\n      ? requiredRole.includes(user.rol)\r\n      : user.rol === requiredRole;\r\n\r\n    if (!hasPermission) {\r\n      return (\r\n        <Box\r\n          display=\"flex\"\r\n          flexDirection=\"column\"\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n          minHeight=\"50vh\"\r\n        >\r\n          <Typography variant=\"h4\" color=\"error\" gutterBottom>\r\n            ⚠️ Acceso Denegado\r\n          </Typography>\r\n          <Typography variant=\"body1\">\r\n            No tienes permisos para acceder a esta página.\r\n          </Typography>\r\n        </Box>\r\n      );\r\n    }\r\n\r\n    return children;\r\n  };\r\n\r\n  return children;\r\n};\r\n\r\nexport default PrivateRoute;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,OAAO,KAAQ,2BAA2B,CACnD,OAASC,gBAAgB,CAAEC,GAAG,CAAEC,UAAU,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElE,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAAgC,IAA/B,CAAEC,QAAQ,CAAEC,YAAa,CAAC,CAAAF,IAAA,CAC9C,KAAM,CAAEG,IAAI,CAAEC,OAAO,CAAEC,eAAgB,CAAC,CAAGd,OAAO,CAAC,CAAC,CAEpD,GAAIa,OAAO,CAAE,CACX,mBACEN,KAAA,CAACL,GAAG,EACFa,OAAO,CAAC,MAAM,CACdC,aAAa,CAAC,QAAQ,CACtBC,cAAc,CAAC,QAAQ,CACvBC,UAAU,CAAC,QAAQ,CACnBC,SAAS,CAAC,OAAO,CAAAT,QAAA,eAEjBL,IAAA,CAACJ,gBAAgB,EAACmB,IAAI,CAAE,EAAG,CAAE,CAAC,cAC9Bf,IAAA,CAACF,UAAU,EAACkB,OAAO,CAAC,IAAI,CAACC,EAAE,CAAE,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAb,QAAA,CAAC,aAExC,CAAY,CAAC,EACV,CAAC,CAEV,CAEA,GAAI,CAACI,eAAe,CAAE,CACpB,mBAAOT,IAAA,CAACN,QAAQ,EAACyB,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CAEA,GAAId,YAAY,CAAE,CAChB,KAAM,CAAAe,aAAa,CAAGC,KAAK,CAACC,OAAO,CAACjB,YAAY,CAAC,CAC7CA,YAAY,CAACkB,QAAQ,CAACjB,IAAI,CAACkB,GAAG,CAAC,CAC/BlB,IAAI,CAACkB,GAAG,GAAKnB,YAAY,CAE7B,GAAI,CAACe,aAAa,CAAE,CAClB,mBACEnB,KAAA,CAACL,GAAG,EACFa,OAAO,CAAC,MAAM,CACdC,aAAa,CAAC,QAAQ,CACtBC,cAAc,CAAC,QAAQ,CACvBC,UAAU,CAAC,QAAQ,CACnBC,SAAS,CAAC,MAAM,CAAAT,QAAA,eAEhBL,IAAA,CAACF,UAAU,EAACkB,OAAO,CAAC,IAAI,CAACU,KAAK,CAAC,OAAO,CAACC,YAAY,MAAAtB,QAAA,CAAC,8BAEpD,CAAY,CAAC,cACbL,IAAA,CAACF,UAAU,EAACkB,OAAO,CAAC,OAAO,CAAAX,QAAA,CAAC,mDAE5B,CAAY,CAAC,EACV,CAAC,CAEV,CAEA,MAAO,CAAAA,QAAQ,CACjB,CAAC,CAED,MAAO,CAAAA,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}