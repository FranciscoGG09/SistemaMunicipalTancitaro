{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{AuthProvider,useAuth}from'./context/AuthContext';import Login from'./components/auth/login';import Dashboard from'./pages/Dashboard';import Reports from'./pages/Reports';import News from'./pages/News';import AdminUsers from'./pages/AdminUsers';import Profile from'./pages/Profile';import PrivateRoute from'./components/auth/PrivateRoute';import Header from'./components/common/Header';import Sidebar from'./components/common/Sidebar';import{Box,CssBaseline}from'@mui/material';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AppContent(){const{user,loading}=useAuth();if(loading){return null;// El loading se maneja en PrivateRoute\n}return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex'},children:[/*#__PURE__*/_jsx(CssBaseline,{}),user&&/*#__PURE__*/_jsx(Header,{}),user&&/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(Box,{component:\"main\",sx:{flexGrow:1,p:3,mt:user?8:0,ml:user?0:0,minHeight:'100vh',backgroundColor:'#f8fafc'},children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!user?/*#__PURE__*/_jsx(Login,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/reportes\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Reports,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/noticias\",element:/*#__PURE__*/_jsx(PrivateRoute,{requiredRole:['admin','comunicacion_social'],children:/*#__PURE__*/_jsx(News,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/usuarios\",element:/*#__PURE__*/_jsx(PrivateRoute,{requiredRole:\"admin\",children:/*#__PURE__*/_jsx(AdminUsers,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/perfil\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Profile,{})})})]})})]});}function App(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(AppContent,{})})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","AuthProvider","useAuth","Login","Dashboard","Reports","News","AdminUsers","Profile","PrivateRoute","Header","Sidebar","Box","CssBaseline","jsx","_jsx","jsxs","_jsxs","AppContent","user","loading","sx","display","children","component","flexGrow","p","mt","ml","minHeight","backgroundColor","path","element","to","replace","requiredRole","App"],"sources":["C:/Users/Franc/Documents/SistemaMunicipalTancitaro/frontend/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport { AuthProvider, useAuth } from './context/AuthContext';\r\nimport Login from './components/auth/login';\r\nimport Dashboard from './pages/Dashboard';\r\nimport Reports from './pages/Reports';\r\nimport News from './pages/News';\r\nimport AdminUsers from './pages/AdminUsers';\r\nimport Profile from './pages/Profile';\r\nimport PrivateRoute from './components/auth/PrivateRoute';\r\nimport Header from './components/common/Header';\r\nimport Sidebar from './components/common/Sidebar';\r\nimport { Box, CssBaseline } from '@mui/material';\r\nimport './App.css';\r\n\r\nfunction AppContent() {\r\n  const { user, loading } = useAuth();\r\n\r\n  if (loading) {\r\n    return null; // El loading se maneja en PrivateRoute\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex' }}>\r\n      <CssBaseline />\r\n      {user && <Header />}\r\n      {user && <Sidebar />}\r\n      <Box\r\n        component=\"main\"\r\n        sx={{\r\n          flexGrow: 1,\r\n          p: 3,\r\n          mt: user ? 8 : 0,\r\n          ml: user ? 0 : 0,\r\n          minHeight: '100vh',\r\n          backgroundColor: '#f8fafc'\r\n        }}\r\n      >\r\n        <Routes>\r\n          <Route\r\n            path=\"/login\"\r\n            element={!user ? <Login /> : <Navigate to=\"/\" replace />}\r\n          />\r\n          <Route\r\n            path=\"/\"\r\n            element={\r\n              <PrivateRoute>\r\n                <Dashboard />\r\n              </PrivateRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/reportes\"\r\n            element={\r\n              <PrivateRoute>\r\n                <Reports />\r\n              </PrivateRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/noticias\"\r\n            element={\r\n              <PrivateRoute requiredRole={['admin', 'comunicacion_social']}>\r\n                <News />\r\n              </PrivateRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/usuarios\"\r\n            element={\r\n              <PrivateRoute requiredRole=\"admin\">\r\n                <AdminUsers />\r\n              </PrivateRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/perfil\"\r\n            element={\r\n              <PrivateRoute>\r\n                <Profile />\r\n              </PrivateRoute>\r\n            }\r\n          />\r\n        </Routes>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <AuthProvider>\r\n        <AppContent />\r\n      </AuthProvider>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}